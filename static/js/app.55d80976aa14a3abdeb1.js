webpackJsonp([1],{"7md4":function(t,e){},Eqa0:function(t,e){},I10N:function(t,e,r){t.exports=r.p+"static/img/inspectocat.0f6b0e0.png"},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[this._m(0),this._v(" "),e("router-view")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"logo",attrs:{href:"/mycommits",draggable:"false",ondragstart:"return false"}},[e("img",{attrs:{src:r("I10N"),alt:"logo"}})])}]};var s=r("VU/8")({name:"App"},a,!1,function(t){r("Eqa0")},null,null).exports,c=r("/ocq"),o=r("fZjL"),i=r.n(o),u=r("Xxa5"),l=r.n(u),m=r("exGp"),p=r.n(m),v={name:"Commits",props:{selectedRepo:String},methods:{formatCommitDate:function(t){return t.replace(/T/g," à ").replace(/Z/g," ")},truncate:function(t){var e=t.indexOf("\n");return e>0?t.slice(0,e):t},console:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return console.log(t),t})},setup:function(t){var e=this,r=["master","main","gh-pages"],a=Object(n.b)(null),s=Object(n.b)(3),c=Object(n.b)(r[0]),o=Object(n.b)(t.selectedRepo),i=Object(n.b)(!1);return Object(n.c)(function(){return t.selectedRepo},function(t){o.value=t}),Object(n.d)(p()(l.a.mark(function t(){var r,n,u;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="https://api.github.com/repos/SebF33/"+o.value+"/commits?per_page="+s.value+"&sha="+c.value,t.next=4,fetch(r);case 4:return n=t.sent,t.next=7,n.json();case 7:"Not Found"===(u=t.sent).message?(i.value=!1,a.value="Pas de commit dans cette branche."):(i.value=!0,a.value=u),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a.value="Erreur lors de la requête API : "+t.t0.message;case 14:case"end":return t.stop()}},t,e,[[0,11]])}))),{branches:r,commits:a,counter:s,currentBranch:c,decrementCounter:function(){1!==s.value&&s.value--},hasCommit:i,incrementCounter:function(){s.value<1||s.value++}}}},d={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"buttons"},[r("span",[t._v("-/+ de commits : ")]),t._v(" "),r("button",{staticClass:"btn btn-primary",on:{click:t.decrementCounter}},[t._v("-")]),t._v(" "),r("span",{staticClass:"counter"},[t._v(" "+t._s(t.counter)+" ")]),t._v(" "),r("button",{staticClass:"btn btn-primary",on:{click:t.incrementCounter}},[t._v("+")])]),t._v(" "),r("h2",[t._v("Mes derniers commits sur "+t._s(t.selectedRepo)+" :")]),t._v(" "),t._l(t.branches,function(e){return r("li",{key:e,staticClass:"branch-item"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentBranch,expression:"currentBranch"}],attrs:{type:"radio",id:e,name:"branch"},domProps:{value:e,checked:t._q(t.currentBranch,e)},on:{change:function(r){t.currentBranch=e}}}),t._v(" "),r("label",{attrs:{for:e}},[t._v(t._s(e))])])}),t._v(" "),r("h3",[t._v("Branche : "+t._s(t.currentBranch))]),t._v(" "),t.hasCommit?r("ul",t._l(t.commits,function(e){var n=e.html_url,a=e.sha,s=e.author,c=e.commit;return r("li",[r("a",{staticClass:"commit",attrs:{href:n,target:"_blank"}},[t._v("\n        "+t._s(a.slice(0,10))+"\n      ")]),t._v("\n      - "),r("span",{staticClass:"message"},[t._v(t._s(t.truncate(c.message)))]),t._v(" "),r("br"),t._v("\n      par\n      "),r("span",{staticClass:"author"},[r("a",{attrs:{href:s.html_url,target:"_blank"}},[t._v("\n          "+t._s(c.author.name)+"\n        ")])]),t._v("\n      le "),r("span",{staticClass:"date"},[t._v(t._s(t.formatCommitDate(c.author.date)))])])}),0):r("p",{staticClass:"commit-msg"},[t._v(t._s(t.commits))])],2)},staticRenderFns:[]};var f={components:{Commits:r("VU/8")(v,d,!1,function(t){r("psvA")},null,null).exports},props:{columns:Array,counter:Number,data:Array,filterKey:String},data:function(){return{selectedRepo:"magicardt",sortKey:"",sortOrders:this.columns.reduce(function(t,e){return t[e]=1,t},{})}},computed:{filteredData:function(){var t=this.data,e=this.filterKey&&this.filterKey.toLowerCase();e&&(t=t.filter(function(t){return i()(t).some(function(r){return String(t[r]).toLowerCase().indexOf(e)>-1})}));var r=this.sortKey;if(r){var n=this.sortOrders[r];t=t.slice().sort(function(t,e){return((t=t[r])===(e=e[r])?0:t>e?1:-1)*n})}return t}},methods:{capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},console:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return console.log(t),t}),handleItemClick:function(t){this.selectedRepo=t},sortBy:function(t){this.sortKey=t,this.sortOrders[t]*=-1}}},h={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"m-auto"},[t.filteredData.length?r("table",[r("thead",[r("tr",t._l(t.columns,function(e){return r("th",{class:{active:t.sortKey==e},on:{click:function(r){return t.sortBy(e)}}},[t._v("\n          "+t._s(t.capitalize(e))+"\n          "),r("span",{staticClass:"arrow",class:t.sortOrders[e]>0?"asc":"dsc"})])}),0)]),t._v(" "),r("tbody",t._l(t.filteredData,function(e){return r("tr",{on:{click:function(r){return t.handleItemClick(e.repo)}}},t._l(t.columns,function(n){return r("td",{staticStyle:{cursor:"pointer"}},[t._v("\n          "+t._s(e[n])+"\n        ")])}),0)}),0)]):r("p",[t._v("Pas de résultats trouvés.")]),t._v(" "),r("Commits",{attrs:{selectedRepo:t.selectedRepo}})],1)},staticRenderFns:[]};var _={name:"Home",components:{Table:r("VU/8")(f,h,!1,function(t){r("7md4")},null,null).exports},data:function(){return{title:"MyCommits"}},setup:function(){return{gridColumns:["repo","stack"],gridData:[{repo:"magicardt",stack:"Vue.js"},{repo:"sebflix",stack:"PHP"},{repo:"shareus",stack:"Slim"},{repo:"thaimes",stack:"Symfony"},{repo:"urarts",stack:"Fresh"}],searchQuery:Object(n.b)("")}}},b={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"hello"},[r("h1",[t._v(t._s(t.title))]),t._v(" "),r("hr"),t._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],attrs:{placeholder:"Filtrer par nom de projet.."},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),t._v(" "),r("Table",{attrs:{columns:t.gridColumns,data:t.gridData,filterKey:t.searchQuery}})],1)])},staticRenderFns:[]};var g=r("VU/8")(_,b,!1,function(t){r("mnGh")},"data-v-46735cbd",null).exports;n.a.use(c.a);var C=new c.a({routes:[{path:"/",name:"Home",component:g}]});n.a.config.productionTip=!1,new n.a({el:"#app",router:C,components:{App:s},template:"<App/>"})},mnGh:function(t,e){},psvA:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.55d80976aa14a3abdeb1.js.map